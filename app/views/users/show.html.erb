<p id="notice"><%= notice %></p>


<h1><%= @user.username %></h1>
<p>
  <% if @user.ratings.empty? %>
      <%= @user.username %> hasn't rated anything yet.
  <% else %>
      Has <%= @user.ratings.count %> <%= "rating".pluralize(@user.ratings.count) %>, average <%= @user.average_rating %>. Their favourite style is <%= @user.favorite_style.name if @user.favorite_style %>
  <% end %>
</p>
<p> Favorite beer: <%= @user.favorite_beer if @user.favorite_beer %> </p>
<p> Favorite brewery: <%= @user.favorite_brewery.name if @user.favorite_brewery %> </p>
<p> Favorite style: <%= @user.favorite_style.name if @user.favorite_style %> </p>


<h2>Ratings</h2>
<ul>
  <% @user.ratings.each do |rating| %>
      <li>
        <%= rating %>
        <% if @user == current_user %>
            <%= link_to 'delete', rating, method: :delete, data: {confirm: 'Are you sure?'} %>
        <% end %>
      </li>
  <% end %>
</ul>

<p>
  <strong>Memberships:</strong>
  <% @user.memberships.each do |membership| %>
      <%= membership.beer_club.name %>
  <% end %>
</p>

<% if @user == current_user %>
    <%= link_to 'Edit', edit_user_path(@user) %>
    <%= link_to 'Destroy', @user, method: :delete, data: {confirm: 'Are you sure?'} %>
<% end %>
<%= link_to 'Back', users_path %>
